[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Statistical Methods for Composite Endpoints",
    "section": "",
    "text": "Preface\nThis is a companion site for the same-titled workshop at the 2024 Society for Clinical Trials (SCT) Annual Meeting given on May 19, 2024 at Boston Marriott Copley Place in Boston, MA."
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Introduction",
    "section": "",
    "text": "This is a book created from markdown and executable code.\nSee Knuth (1984) for additional discussion of literate programming.\n\n1 + 1\n\n[1] 2\n\n\n\n\n\n\nKnuth, Donald E. 1984. “Literate Programming.” Comput. J. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97."
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "2  Summary",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Knuth, Donald E. 1984. “Literate Programming.” Comput.\nJ. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97."
  },
  {
    "objectID": "index.html#slides",
    "href": "index.html#slides",
    "title": "Statistical Methods for Composite Endpoints",
    "section": "Slides",
    "text": "Slides\nCourse information slides here. (To convert html to pdf, press E \\(\\to\\) Print \\(\\to\\) Destination: Save to pdf)"
  },
  {
    "objectID": "regression.html#slides",
    "href": "regression.html#slides",
    "title": "4  Semiparametric Regression",
    "section": "Slides",
    "text": "Slides"
  },
  {
    "objectID": "intro.html#slides",
    "href": "intro.html#slides",
    "title": "1  Introduction",
    "section": "Slides",
    "text": "Slides\nChapter slides here. (To convert html to pdf, press E \\(\\to\\) Print \\(\\to\\) Destination: Save to pdf)"
  },
  {
    "objectID": "testing.html#slides",
    "href": "testing.html#slides",
    "title": "2  Hypothesis Testing",
    "section": "Slides",
    "text": "Slides"
  },
  {
    "objectID": "estimation.html#slides",
    "href": "estimation.html#slides",
    "title": "3  Nonparametric Estimation",
    "section": "Slides",
    "text": "Slides"
  },
  {
    "objectID": "discussions.html#slides",
    "href": "discussions.html#slides",
    "title": "5  Discussions",
    "section": "Slides",
    "text": "Slides"
  },
  {
    "objectID": "intro.html#r-code",
    "href": "intro.html#r-code",
    "title": "1  Introduction",
    "section": "R-code",
    "text": "R-code\n\n\nShow the code\n##################################################################\n# This code generates the numerical results in  chapter 1       ##\n##################################################################\n\n# load the survival package\nlibrary(survival)\n# install.packages(\"Wcompo\")\nlibrary(Wcompo) # for weighted total events\nlibrary(rmt) # for hfaction data\nlibrary(tidyverse) # for data wrangling\n\n# load hfaction data\ndata(hfaction)\nhead(hfaction)\n\n# convert status=1 for death, 2=hospitalization\nhfaction &lt;- hfaction |&gt; \n  mutate(\n    status = case_when(\n      status == 1 ~ 2,\n      status == 2 ~ 1,\n      status == 0 ~ 0\n    )\n  )\n\nhead(hfaction)\n\n# count unique patients in each arm\nhfaction |&gt; \n  group_by(trt_ab) |&gt; \n  distinct(patid) |&gt; \n  count(trt_ab)\n\n# TFE: take the first event per patient id\nhfaction_TFE &lt;- hfaction |&gt; \n  arrange(patid, time) |&gt; \n  group_by(patid) |&gt; \n  slice_head() |&gt; \n  ungroup()\n\n# Mortality analysis ------------------------------------------------------\n\n## get mortality data\nhfaction_D &lt;- hfaction |&gt; \n  filter(status != 2) # remove hospitalization records\n\n## Cox model for death against trt_ab\nobj_D &lt;- coxph(Surv(time, status) ~ trt_ab, data = hfaction_D)\nsummary(obj_D)\n#&gt; n= 426, number of events= 93 \n#&gt; coef exp(coef) se(coef)      z Pr(&gt;|z|)  \n#&gt; trt_ab -0.3973    0.6721   0.2129 -1.866   0.0621 .\n\n# TFE analysis --------------------------------------------------------\n\n## how many of first events are death (1) or hosp (2)\nhfaction_TFE |&gt; \n  count(status)\n\n# Cox model for TFE against trt_ab\nobj_TFE &lt;- coxph(Surv(time, status &gt; 0) ~ trt_ab, data = hfaction_TFE)\nsummary(obj_TFE)\n\n\n# Mortality vs TFE --------------------------------------------------------\n\nlibrary(ggsurvfit)\nlibrary(patchwork)\n\npD &lt;- survfit2(Surv(time, status) ~ trt_ab, data = hfaction_D) |&gt;\n  ggsurvfit(linewidth = 1) +\n  scale_ggsurvfit() +\n  scale_color_discrete(labels = c(\"Usual care\", \"Training\")) +\n  scale_x_continuous(\"Time (years)\", limits = c(0, 4)) +\n  labs(y = \"Overall survival\")\n\npTFE &lt;- survfit2(Surv(time, status &gt; 0) ~ trt_ab, data = hfaction_TFE) |&gt;\n  ggsurvfit(linewidth = 1) +\n  scale_ggsurvfit() +\n  scale_color_discrete(labels = c(\"Usual care\", \"Training\")) +\n  scale_x_continuous(\"Time (years)\", limits = c(0, 4)) +\n  labs(y = \"Hospitalization-free survival\")\n\n\npD + pTFE + plot_layout(guides = \"collect\") & \n  theme(\n    legend.position = \"top\", \n    legend.text = element_text(size = 12)\n    )\n\nggsave(\"images/intro_hfaction_unis.png\", width = 8, height = 4.5)\n\n# Total events (proportional mean) ----------------------------------------\n## fit proportional means model with death = 2 x hosp\nobj_ML &lt;- CompoML(hfaction$patid, hfaction$time, hfaction$status, \n                  hfaction$trt_ab, w = c(2, 1))\n## summary results\nobj_ML\n\n## plot model-based mean functions\nplot(obj_ML, 0, ylim= c(0, 5), xlim= c(0, 4), xlab=\"Time (years)\", \n     col = \"red\", lwd = 2)\nplot(obj_ML, 1, add = TRUE, col = \"blue\", lwd=2)\nlegend(0, 5, col = c(\"red\", \"blue\"), c(\"Usual care\",\"Training\"), lwd = 2)"
  },
  {
    "objectID": "intro.html#examples",
    "href": "intro.html#examples",
    "title": "1  Introduction",
    "section": "1.1 Examples",
    "text": "1.1 Examples"
  }
]